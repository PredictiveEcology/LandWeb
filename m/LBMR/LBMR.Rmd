---
title: "LBMR"
author: "Jean Marchal (jean.d.marchal@gmail.com)"
date: "`r format(Sys.time(), '%d %B %Y')`"
output:
  html_document: default
  pdf_document: default
---

# Overview
A fast and large landscape biomass succession model modified from LANDIS-II.

# Download the module
```{r download module, eval = FALSE, echo = TRUE}
library(SpaDES)

moduleName <- "LBMR"

spadesModulesDirectory <- tempdir() # Location where the module will be downloaded

downloadModule(moduleName, path = spadesModulesDirectory)
```

# Usage

# Usage
## Module parameters
Name|Default|Description
----|:--------------|---------------------------------------------------------------------
`growthInitialTime`|`0`|initial time for the growth event to occur.
`.plotInitialTime`|`0`|describes the simulation time at which the first plot event should occur.
`.saveInitialTime`|`0`|describes the simulation time at which the first save event should occur.
`spinupMortalityfraction`|`0.001`|defines the mortality loss fraction in spin up-stage simulation.
`successionTimestep`|`10`|defines the simulation time step.
`cellSize`|`NA`|defines the cell size.
`seedingAlgorithm`|`"wardDispersal"`|chooses which seeding algorithm will be used among noDispersal, universalDispersal, and wardDispersal, default is wardDispersal.
`useCache`|`TRUE`|use caching for the spinup simulation?
`useParallel`|`TRUE`|determines whether the parallel computation will be used in the simulation.
|||


## Usage example
```{r module usage example, eval = FALSE}
library(SpaDES.core)
library(magrittr)

inputDir <- file.path(dirname(tempdir()), "LBMR", "inputs") %>% checkPath(create = TRUE)
outputDir <- file.path(dirname(tempdir()), "LBMR", "outputs") 
times <- list(start = 0, end = 10)
parameters <- list(
  .globals = list(verbose = FALSE),
  LBMR = list(.plotInitialTime = NA)
  #.progress = list(type = "text", interval = 1), # for a progress bar
  ## If there are further modules, each can have its own set of parameters:
  #module1 = list(param1 = value1, param2 = value2),
  #module2 = list(param1 = value1, param2 = value2)
)
modules <- list("LBMR")
objects <- list(successionTimestep = 2)
paths <- list(
  cachePath = file.path(outputDir, "cache"),
  modulePath = "~/Documents/GitHub/LandWeb/m/",
  inputPath = inputDir,
  outputPath = outputDir
)

mySim <- simInit(times = times, params = parameters, modules = modules, objects = objects, paths = paths)

mySimOut <- spades(mySim, debug = TRUE)
```

# Events
Events are scheduled as follows:

- Module initiation and spin-up
- Account for fire disturbance if present
- Seed dispersal
- Mortality and growth
- Reclassification of age cohorts
- SummaryRegen
- SummaryBGM
- Plot
- Save

## Plotting

Write what is plotted.

## Saving

Write what is saved.

# Data dependencies

## Input data

How to obtain input data, and a description of the data required by the module.
If `sourceURL` is specified, `downloadData("LBMR", "path/to/modules/dir")` may be sufficient.

## Output data

Description of the module outputs.

# Links to other modules

Describe any anticipated linkages to other modules.

