---
title: "landWebDataPrep"
author: "Module Author"
date: "11 August 2016"
output: pdf_document
---

# Overview

This module is higher level data preparation for fire module and veg module, its outputs creates inputs for initBaseMaps module for fire and landWeb_LBMRDataPrep module for veg.

Module documentation should be written so that others can use your module.
This is a template for module documentation, and should be changed to reflect your module.

## RMarkdown

RMarkdown syntax allows R code, outputs, and figures to be rendered in the documentation.

For help writing in RMarkdown, see http://rmarkdown.rstudio.com/.

# Usage

```{r module_usage}
library(SpaDES)
library(magrittr)
library(raster)
inputDir <- file.path(tempdir(), "inputs") %>% checkPath(create = TRUE)
outputDir <- file.path(tempdir(), "outputs")
times <- list(start = 0, end = 40)
shpStudyRegion <- shapefile(file.path(".", "landWebDataPrep", "data", "shpLandWEB.shp"))
shpStudyRegion$fireReturnInterval <- shpStudyRegion$LTHRC
biomassMap <- raster(file.path(".", "landWebDataPrep", "data",
                               "NFI_MODIS250m_kNN_Structure_Biomass_TotalLiveAboveGround_v0.tif"))
SMALL <- TRUE
if(SMALL) {
  smallExt <- new("Extent" , xmin = -983660, xmax = -899973, 
                  ymin = 8007529, ymax = 8085986)
  shpStudyRegion2 <- spTransform(shpStudyRegion, crs(biomassMap))
  shpStudyRegion3 <- crop(shpStudyRegion2, smallExt)
}

modules <- list("landWebDataPrep", "initBaseMaps", "fireDataPrep", "fireNull", "landWeb_LBMRDataPrep", "LBMR")

modules <- list("landWebDataPrep", "initBaseMaps", "fireDataPrep", "fireNull")
LCC05 <- raster(file.path(".", "landWebDataPrep", "data",
                               "LCC2005_V1_4a.tif"))
successionTimestep <- 2
objects <- list("shpStudyRegionX" = shpStudyRegion3,
                "successionTimestep" = successionTimestep)
paths <- list(
  cachePath = file.path("~", "testLandWebDataPrep", "cache"),
  modulePath = file.path("."),
  inputPath = inputDir,
  outputPath = outputDir
)
parameters <- list(fireNull = list(startTime = 1,
                  returnInterval = 1,
                  .statsInitialTime = 1))

mySim <- simInit(times = times, params = parameters, modules = modules,
                 objects = objects, paths = paths)

a <- spades(mySim, debug = TRUE)
```

# Events

Describe what happens for each event type.

## Plotting

Write what is plotted.

## Saving

Write what is saved.

# Data dependencies

## Input data

How to obtain input data, and a description of the data required by the module.
If `sourceURL` is specified, `downloadData("landWebDataPrep", "path/to/modules/dir")` may be sufficient.

## Output data

Description of the module outputs.

# Links to other modules

Describe any anticipated linkages to other modules.

